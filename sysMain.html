<!DOCTYPE html>
<head>
	<link rel="stylesheet" type="text/css" href="basic.css">
	<title>Sr.Especialista</title>
</head>



<body>
	<div class="spaced-area">
		<h3>Perfil: <span id="txtUsuario">--</span></h3>
		<h3>Especialidade: <span id="txtSistema">--</span></h3>
		<button id="btSair" class="btSair">Sair da especialidade</button>
	</div>
	<hr>
	<div class="spaced-area">
		<h3>Descrição:</h3>
		<p id="txtDescricao"></p>
		<button id="btConsultar">Fazer consulta</button>
		<button id="btEdit">Editar informações</button>
	</div>
</body>


<script>
// ---------- Imports
const { remote } = require('electron')
const dal = remote.require('./data-access-layer.js')
const thisWin = remote.getCurrentWindow()


// ---------- Elementos do DOM
const btSair = document.getElementById("btSair")
const txtUsuario = document.getElementById("txtUsuario")
const txtSistema = document.getElementById("txtSistema")
const txtDescricao = document.getElementById("txtDescricao")
const btEdit = document.getElementById('btEdit') 


// ---------- Eventos
btSair.addEventListener('click',clickBtSair)
btEdit.addEventListener('click',clickBtEdit)


// ---------- Init
txtUsuario.innerHTML = dal.getPerfilAtivo().nome
txtSistema.innerHTML = dal.getSistemaAtivo().nome
txtDescricao.innerHTML = dal.getSistemaAtivo().descricao


// ---------- Funções
function clickBtSair(){
	thisWin.loadFile('./sysSelect.html')
}

function clickBtEdit() {
	thisWin.loadFile('./sysEdit.html')
}

</script>